{% extends "base.html" %}

{% load widget_tweaks %}

{% block title %}

{% endblock %}

{% block breadcrumb %}
  <li class="breadcrumb-item"><a href="{% url 'home' %}">Home</a></li>
  <li class="breadcrumb-item"><a href="{% url 'riyosya_list' %}">利用者</a></li>
  <li class="breadcrumb-item active">退所</li>
{% endblock %}

{% block content %}
{% for error in form.non_field_errors %}
    <small><div class="text-danger">{{ error }}</div></small>
{% endfor %}

{# {{ form.errors }} #}

  <form method="post" novalidate>
    {% csrf_token %}
      <div class="row">
        <div class="col-6">
          <h5 class="mb-3">{{ riyosyariyoukikan.riyosya.name }} / 退所処理</h5>
          <div class="border rounded mb-3 py-3 px-3">

            <div class="form-group">
              <div class="form-control-sm" for="{{ form.first_day.name }}">
                利用期間
              </div>
              {% if form.is_bound %}
                {% if form.last_day.errors %}
                  <div class="form-inline">
                      <div class="form-control-sm">{{ riyosyariyoukikan.start_day }} {{ riyosyariyoukikan.get_start_kbn_display }} </div> ～ <div class="ml-2"> {{ form.last_day|add_class:'is-invalid' }} {{ form.last_kbn|add_class:'is-invalid' }}</div>
                  </div>
                  {% for error in form.last_day.errors %}
                    <small><div class="text-danger">{{ error }}</div></small>
                  {% endfor %}
                {% else %}
                  <div class="form-control-sm">{{ riyosyariyoukikan.start_day }} {{ riyosyariyoukikan.get_start_kbn_display }} </div> ～ <div class="ml-2"> {{ form.last_day|add_class:'is-valid' }} {{ form.last_kbn|add_class:'is-valid' }}</div>
                {% endif %}
              {% else %}
                <div class="form-inline">
                    <div class="form-control-sm">{{ riyosyariyoukikan.start_day }} {{ riyosyariyoukikan.get_start_kbn_display }} </div> ～ <div class="ml-2"> {{ form.last_day }} {{ form.last_kbn }}</div>
                </div>
              {% endif %}
            </div>

            <div class="form-group">
              <div class="form-control-sm" for="{{ form.first_day.name }}">
                退所理由
              </div>
              <div class="form-inline">
                {{ form.memo }}
              </div>
            </div>

            <button type="submit" class="btn btn-success">登録</button>
          </div>
        </div>
      </div>
  </form>
{% endblock %}
